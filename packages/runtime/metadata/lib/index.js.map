{"version":3,"file":"index.js","names":["Metadata","wrapMetadata","metadata","context","parent","_metadata","proxy","setContext"],"sources":["../src/index.ts"],"sourcesContent":["import { Metadata, MetadataContext } from './Metadata.js';\n\nexport const wrapMetadata = (metadata: (() => any) | any) => {\n  return (context: MetadataContext, parent?: Metadata) => {\n    let _metadata = metadata;\n    if (typeof _metadata === 'function') {\n      _metadata = _metadata(context);\n    }\n\n    const proxy = new Metadata(_metadata, parent);\n    Metadata.setContext(proxy, context);\n    return proxy;\n  };\n};\n"],"mappings":"AAAA,SAASA,QAAQ,QAAyB,eAAe;AAEzD,OAAO,MAAMC,YAAY,GAAIC,QAA2B,IAAK;EAC3D,OAAO,CAACC,OAAwB,EAAEC,MAAiB,KAAK;IACtD,IAAIC,SAAS,GAAGH,QAAQ;IACxB,IAAI,OAAOG,SAAS,KAAK,UAAU,EAAE;MACnCA,SAAS,GAAGA,SAAS,CAACF,OAAO,CAAC;IAChC;IAEA,MAAMG,KAAK,GAAG,IAAIN,QAAQ,CAACK,SAAS,EAAED,MAAM,CAAC;IAC7CJ,QAAQ,CAACO,UAAU,CAACD,KAAK,EAAEH,OAAO,CAAC;IACnC,OAAOG,KAAK;EACd,CAAC;AACH,CAAC"}